/*!
 *  Font Awesome 4.5.0 by @davegandy - http://fontawesome.io - @fontawesome
 *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
 */
@import "font-variables";

$fa-font-path: $icomoon-font-path;

@import "node_modules/font-awesome/scss/variables";
@import "node_modules/font-awesome/scss/mixins";
//@import "node_modules/font-awesome/scss/path";
@import "node_modules/font-awesome/scss/core";
@import "node_modules/font-awesome/scss/larger";
//@import "node_modules/font-awesome/scss/fixed-width";
//@import "node_modules/font-awesome/scss/list";
//@import "node_modules/font-awesome/scss/bordered-pulled";
@import "node_modules/font-awesome/scss/animated";
//@import "node_modules/font-awesome/scss/rotated-flipped";
@import "node_modules/font-awesome/scss/stacked";
//@import "node_modules/font-awesome/scss/icons";

@import "mixins";

$packaged-stroke-width: 2;

$bev-icon-back-color: #666;

$bev-variants: (
        tea-white: (
                front-color: #ddd,
                icon: $icon-leaf
        ), tea-green: (
                front-color: #7f7,
                icon: $icon-leaf
        ), tea-oolong: (
                front-color: #7bd,
                icon: $icon-leaf
        ), tea-black: (
                front-color: #111,
                icon: $icon-leaf
        ), tea-rooibos: (
                front-color: #f55,
                icon: $icon-leaf
        ), infusion: (
                front-color: #bfb,
                icon: $icon-pagelines
        ), coffee: (
                front-color: #000,
                icon: $icon-cup
        ), cocoa: (
                front-color: #ff6e0c,
                icon: $icon-cup
        )
);

$moment-icons: (
        morning: $icon-alarm,
        daytime: $icon-sun,
        evening: $icon-moon,
        unknown: $icon-question
);

//* Mixin */
@mixin icon($icon-var) {
  @extend .fa;
  &:before {
    content: $icon-var;
  }
}

// Prepare stack icons
.bev-icon, .filters .moment-icon {
  @extend .fa-stack;

  .background {
    @extend .fa;
    @extend .fa-stack-2x;
  }

  .front {
    @extend .fa;
    @extend .fa-stack-1x;
  }
}

//* Beverages icons */
.bev-icon {
  .background {
    color: $bev-icon-back-color;
    &:before {
      content: $icon-square;
    }
  }

  @each $bev-variant, $icon-map in $bev-variants {
    &.#{$bev-variant} {
      $front-color: map-get($icon-map, front-color);

      // Add a stroke to packaged teas
      .background {
        &.packaged {
          @include stroke($packaged-stroke-width, $front-color);
        }
        @include stroke($packaged-stroke-width, $bev-icon-back-color);
      }

      .front {
        color: $front-color;
        &:before {
          content: map-get($icon-map, icon);
        }
      }
    }
  }
}

//* Moment of day in beverage */
.beverage {
  .moment-icon {
    @each $moment, $name in $moment-icons {
      &.#{$moment} {
        @include icon($name);
      }
    }
  }
}

// Moment of day in filters
.filters {
  .bev-icon, .moment-icon {
    margin: 0 5px;
  }

  .moment-icon {
    .background:before {
      content: $icon-square-o;
    }

    @each $moment, $icon in $moment-icons {
      &.#{$moment} .front:before {
        content: $icon;
      }
    }
  }
}

//* Other icons */
//* Info/error */
.icon-info {
  @include icon($icon-info_outline);
}

.icon-error {
  @include icon($icon-error);
}

//* Misc. */
.icon-note {
  @include icon($icon-commenting);
}

.icon-temp {
  @include icon($icon-fire);
}

.icon-time {
  @include icon($icon-hourglass);
}

.icon-detail {
  @include icon($icon-zoom-in);
  @extend .fa-2x;
}

.detailed {
  .icon-detail:before {
    content: $icon-zoom-out;
  }
}

//* Loading */
.icon-loading {
  @include icon($icon-circle-o-notch);
  @extend .fa-lg;
  @extend .fa-spin;
}
