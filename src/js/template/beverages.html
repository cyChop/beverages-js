<div class="beverages-container">
    <div rv-class-up="error | toBoolean | not" class="alert alert-danger slide" role="alert">
        <i class="icon-error"></i> {error}
    </div>
    <div rv-class-up="ready | or error" class="alert alert-info slide">
        <i class="icon icon-loading spin"></i> {i18n.loading}
    </div>
    <div rv-class-up="ready | not | or error" class="slide">
        <div class="header">
            <div class="pull-xs-right">
                <small>{beverages._shown}/{beverages.models | length}</small>
                <div class="btn-group btn-group-sm">
                    <button type="button" class="btn btn-primary-outline btn-pick-random"
                            data-toggle="tooltip" data-placement="bottom" rv-title="i18n.orders.random"
                            rv-disabled="beverages._shown | eq 0">
                        <i class="icon icon-random"></i>
                    </button>
                </div>
                <div class="btn-group btn-group-sm">
                    <button type="button" class="btn btn-primary-outline dropdown-toggle"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="icon icon-cart"></i>
                        <span class="label label-pill label-primary">{orders:total}</span>
                    </button>
                    <div class="dropdown-menu dropdown-menu-right cart">
                        <h6 rv-if="orders:total | eq 0" class="dropdown-header">{i18n.orders.none}</h6>
                        <a rv-each-o="orders:orders" class="dropdown-item clearfix">
                            <span class="label label-pill" rv-addclass="o:beverage:basis">{o:quantity}</span>
                            {o:beverage:name}
                            <small rv-if="o:beverage:brand">({o:beverage:brand})</small>
                            <br/>
                            <span class="min-max" rv-class-invisible="o:beverage:preparation.time | showMinMax | not">
                                <i class="icon icon-time"></i>
                                <span rv-html="o:beverage:preparation.time | minMax ' - '"></span><span
                                    rv-html="i18n.units.minutes"></span>
                            </span>
                            <span class="min-max" rv-class-invisible="o:beverage:preparation.temp | showMinMax | not">
                                <i class="icon icon-temp"></i>
                                <span rv-text="o:beverage:preparation.temp | minMax ' - '"></span><span
                                    rv-html="temperatureUnit | map i18n.units"></span>
                            </span>
                        </a>
                        <div rv-unless="orders:total | eq 0" class="dropdown-divider"></div>
                        <a rv-unless="orders:total | eq 0" class="dropdown-item btn-clear-order" href="#">
                            <strong>&times;</strong> {i18n.orders.clear}
                        </a>
                    </div>
                </div>
            </div>
            <div class="filters pull-xs-left">
                <div class="btn-group btn-group-sm" data-toggle="buttons">
                    <label rv-each-basis="filters:bases"
                           class="btn btn-secondary" rv-class-active="basis:active"
                           data-toggle="tooltip" data-placement="bottom" rv-title="basis:key | map i18n.basis">
                        <input type="checkbox" rv-checked="basis:active" autocomplete="off"/>
                        <i class="bev-icon" rv-addclass="basis:key"></i>
                    </label>
                </div>
                <div class="btn-group btn-group-sm" data-toggle="buttons">
                    <label rv-each-moment="filters:moments"
                           class="btn btn-secondary" rv-class-active="moment:active"
                           data-toggle="tooltip" data-placement="bottom" rv-title="moment:key | map i18n.moment">
                        <input type="checkbox" rv-checked="moment:active" autocomplete="off"/>
                        <i class="moment-icon" rv-addclass="moment:key"></i>
                    </label>
                </div>
                <label for="field-text-search" class="sr-only">What else</label>
                <input type="text" class="form-control" id="field-text-search" rv-value="filters:text"/>
            </div>
        </div>
        <div class="slide alert alert-info" role="alert" rv-class-up="beverages._shown | eq 0 | not">
            <i class="icon-info"></i> {i18n.error.empty}
        </div>
        <div class="beverage slide" rv-class-up="b._show | not" rv-addclass="b:basis" rv-class-detailed="b._detailed"
             rv-each-b="beverages.models" rv-data-id="b:id">
            <div class="row">
                <div class="col-xs-12 col-md-10">
                    <div class="row">
                        <div class="headers">
                            <div class="bev-icon-container" rv-class-packaged="b:packaged" rv-addclass="b:basis">
                                <i class="bev-icon" rv-addclass="b:basis"></i>
                            </div>
                            <div class="name">{b:name}</div>
                            <div class="brand">{b:brand}</div>
                        </div>
                        <div class="more">
                            <i class="icon icon-note note-tip" rv-if="b:note"></i>
                            {b:benefits | join ', ' | startWithCap}
                        </div>
                        <div class="strength">
                            <div class="moment">
                                <ul>
                                    <li rv-class-invisible="b:time.morning | defined | not | or b:time.morning | not"
                                        rv-class-text-muted="b:time.morning | not">
                                        <i class="moment-icon morning" data-toggle="tooltip"
                                           data-placement="bottom"
                                           rv-title="b:time.morning | defined | if i18n.moment.morning i18n.moment.unknown"></i>
                                    </li>
                                    <li rv-class-invisible="b:time.daytime | defined | not | or b:time.daytime | not"
                                        rv-class-text-muted="b:time.daytime | not">
                                        <i class="moment-icon daytime" data-toggle="tooltip"
                                           data-placement="bottom"
                                           rv-title="b:time.daytime | defined | if i18n.moment.daytime i18n.moment.unknown"></i>
                                    </li>
                                    <li rv-class-invisible="b:time.evening | defined | not | or b:time.evening | not"
                                        rv-class-text-muted="b:time.evening | not">
                                        <i class="moment-icon evening" data-toggle="tooltip"
                                           data-placement="bottom"
                                           rv-title="b:time.evening | defined | if i18n.moment.evening i18n.moment.unknown"></i>
                                    </li>
                                </ul>
                            </div>
                            <div class="theine-level"
                                 data-toggle="tooltip" data-placement="bottom" rv-title="b:theine | map i18n.theine">
                                <div class="icon-bars" rv-addclass="b:theine">
                                    <div class="bar bar-1"></div>
                                    <div class="bar bar-2"></div>
                                    <div class="bar bar-3"></div>
                                    <div class="bar bar-4"></div>
                                </div>
                            </div>
                        </div>
                        <div class="preparation">
                            <div class="prep-info" rv-class-invisible="b:preparation.temp | showMinMax | not">
                                <i class="icon icon-temp"></i>
                                <span rv-text="b:preparation.temp | minMax ' - '"></span><span
                                    rv-html="temperatureUnit | map i18n.units"></span>
                            </div>
                            <div class="prep-info" rv-class-invisible="b:preparation.time | showMinMax | not">
                                <i class="icon icon-time"></i>
                                <span rv-html="b:preparation.time | minMax ' - '"></span><span
                                    rv-html="i18n.units.minutes"></span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <small class="text-muted">{b:ingredients | join ', ' | startWithCap}</small>
                            <p class="note" rv-if="b:note">
                                <i class="icon icon-note"></i> {b:note}
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-md-2 actions">
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-secondary btn-more">
                            <i class="icon icon-detail"></i>
                        </button>
                        <button type="button" class="btn btn-secondary btn-pick">
                            <i class="icon icon-pick"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
